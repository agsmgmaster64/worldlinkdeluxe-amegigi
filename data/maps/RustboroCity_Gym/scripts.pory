mapscripts RustboroCity_Gym_MapScripts {}

script RustboroCity_Gym_EventScript_Roxanne {
	trainerbattle_single(TRAINER_ROXANNE_1, RustboroCity_Gym_Text_RoxanneIntro, RustboroCity_Gym_Text_RoxanneDefeat, RustboroCity_Gym_EventScript_RoxanneDefeated, NO_MUSIC)
	if (!flag(FLAG_RECEIVED_TM_ROCK_TOMB)) {
		goto(RustboroCity_Gym_EventScript_GiveRockTomb)
	}
	msgbox(RustboroCity_Gym_Text_RoxannePostBattle)
	release
	end
}

script RustboroCity_Gym_EventScript_RoxanneDefeated {
	hidespeakername
	message(RustboroCity_Gym_Text_ReceivedStoneBadge)
	waitmessage
	call(Common_EventScript_PlayGymBadgeFanfare)
	msgbox(RustboroCity_Gym_Text_StoneBadgeInfoTakeThis)
	setflag(FLAG_DEFEATED_RUSTBORO_GYM)
	setflag(FLAG_BADGE01_GET)
	setvar(VAR_RUSTBORO_CITY_STATE, 1)
	addvar(VAR_PETALBURG_GYM_STATE, 1)
	setvar(VAR_0x8008, 1)
	call(Common_EventScript_SetGymTrainers)
	if (var(VAR_PETALBURG_GYM_STATE) == 6) {
		call(Common_EventScript_ReadyPetalburgGymForBattle)
	}
	goto(RustboroCity_Gym_EventScript_GiveRockTomb)
}

script RustboroCity_Gym_EventScript_GiveRockTomb {
	giveitem(ITEM_TM_ROCK_TOMB)
	if (!var(VAR_RESULT)) {
		goto(Common_EventScript_ShowBagIsFull)
	}
	setflag(FLAG_RECEIVED_TM_ROCK_TOMB)
	msgbox(RustboroCity_Gym_Text_ExplainRockTomb)
	release
	end
}

raw `

RustboroCity_Gym_EventScript_RoxanneRematch::
	trainerbattle_rematch_double TRAINER_ROXANNE_1, RustboroCity_Gym_Text_RoxannePreRematch, RustboroCity_Gym_Text_RoxanneRematchDefeat, RustboroCity_Gym_Text_RoxanneRematchNeedTwoMons
	msgbox RustboroCity_Gym_Text_RoxannePostRematch, MSGBOX_AUTOCLOSE
	end

RustboroCity_Gym_EventScript_Josh::
	trainerbattle_single TRAINER_JOSH, RustboroCity_Gym_Text_JoshIntro, RustboroCity_Gym_Text_JoshDefeat
	msgbox RustboroCity_Gym_Text_JoshPostBattle, MSGBOX_AUTOCLOSE
	end

RustboroCity_Gym_EventScript_Tommy::
	trainerbattle_single TRAINER_TOMMY, RustboroCity_Gym_Text_TommyIntro, RustboroCity_Gym_Text_TommyDefeat
	msgbox RustboroCity_Gym_Text_TommyPostBattle, MSGBOX_AUTOCLOSE
	end

RustboroCity_Gym_EventScript_Marc::
	trainerbattle_single TRAINER_MARC, RustboroCity_Gym_Text_MarcIntro, RustboroCity_Gym_Text_MarcDefeat
	msgbox RustboroCity_Gym_Text_MarcPostBattle, MSGBOX_AUTOCLOSE
	end

RustboroCity_Gym_EventScript_GymGuide::
	lock
	faceplayer
	goto_if_set FLAG_DEFEATED_RUSTBORO_GYM, RustboroCity_Gym_EventScript_GymGuidePostVictory
	msgbox RustboroCity_Gym_Text_GymGuideAdvice, MSGBOX_DEFAULT
	release
	end

RustboroCity_Gym_EventScript_GymGuidePostVictory::
	msgbox RustboroCity_Gym_Text_GymGuidePostVictory, MSGBOX_DEFAULT
	release
	end

RustboroCity_Gym_EventScript_LeftGymStatue::
	lockall
	goto_if_set FLAG_BADGE01_GET, RustboroCity_Gym_EventScript_GymStatueCertified
	goto RustboroCity_Gym_EventScript_GymStatue
	end

RustboroCity_Gym_EventScript_RightGymStatue::
	lockall
	goto_if_set FLAG_BADGE01_GET, RustboroCity_Gym_EventScript_GymStatueCertified
	goto RustboroCity_Gym_EventScript_GymStatue
	end

RustboroCity_Gym_EventScript_GymStatueCertified::
	msgbox RustboroCity_Gym_Text_GymStatueCertified, MSGBOX_DEFAULT
	releaseall
	end

RustboroCity_Gym_EventScript_GymStatue::
	msgbox RustboroCity_Gym_Text_GymStatue, MSGBOX_DEFAULT
	releaseall
	end

RustboroCity_Gym_EventScript_RegisterRoxanne::
	lockall
	pokenavcall RustboroCity_Gym_Text_RoxanneRegisterCall
	waitmessage
	delay 30
	releaseall
	end

RustboroCity_Gym_Text_GymGuideAdvice:
	.string "Yo, how's it going?\p"
	.string "Listen, my friend!\n"
	.string "Would you like to become the Champion?\p"
	.string "I'm no Trainer, not me, but I can\n"
	.string "sure give you winning advice.\p"
	.string "That's settled, then! We'll aim for the\n"
	.string "Puppet Championship together!\p"
	.string "It's your job as a Trainer to collect\n"
	.string "GYM BADGES, am I right?\p"
	.string "But GYM Leaders aren't pushovers!\p"
	.string "And that's where I come in!\n"
	.string "I'm here to provide expert advice!\p"
	.string "The Doise, the Gym Leader, is a user\n"
	.string "of Earth-type Puppets.\p"
	.string "The Earth type is very durable, but\n"
	.string "it can't stand Water-type and\l"
	.string "Nature-type moves.\p"
	.string "Come see me afterwards, if you beat\n"
	.string "the GYM LEADER.\p"
	.string "Well, go for it!$"

RustboroCity_Gym_Text_GymGuidePostVictory:
	.string "Whoa! What a breathtaking victory!\n"
	.string "My cheering must've worked!\p"
	.string "Great!\n"
	.string "Check your TRAINER CARD.\p"
	.string "The STONE BADGE you got should be\n"
	.string "properly recorded on it.\p"
	.string "In other words…\p"
	.string "You've climbed the first step on\n"
	.string "the stairs to the CHAMPIONSHIP!\p"
	.string "That's got to feel awesome!$"

RustboroCity_Gym_Text_JoshIntro:
	.string "Don't take us Gym Trainers lightly!\n"
	.string "I'll show you why we're better!$"

RustboroCity_Gym_Text_JoshDefeat:
	.string "You were too good for me…$"

RustboroCity_Gym_Text_JoshPostBattle:
	.string "You haven't seen anything of the Earth\n"
	.string "type's terrifying power!$"

RustboroCity_Gym_Text_TommyIntro:
	.string "If you can't beat me, you won't stand\n"
	.string "a chance against The Doise!$"

RustboroCity_Gym_Text_TommyDefeat:
	.string "Wow! You've got some potential!$"

RustboroCity_Gym_Text_TommyPostBattle:
	.string "The Doise is stronger than me by\n"
	.string "several times.\p"
	.string "You'd better be on your guard!$"

RustboroCity_Gym_Text_MarcIntro:
	.string "We might be in the middle of town,\n"
	.string "but so what?\p"
	.string "Our leader, The Doise, has let us\n"
	.string "have our Puppets rampage here!$"

RustboroCity_Gym_Text_MarcDefeat:
	.string "Oh, man oh man!\n"
	.string "Our challenger is one feisty customer!$"

RustboroCity_Gym_Text_MarcPostBattle:
	.string "I have to hand it to our Leader.\p"
	.string "He was willing to bring us all in\n"
	.string "so quickly after becoming the leader\l"
	.string "fairly recently.$"

RustboroCity_Gym_Text_RoxanneIntro:
	.string "So, you came to challenge me, The\n"
	.string "Doise, Noiseboro's new gym leader.\p"
	.string "I will let you know that even if I\n"
	.string "was brought here in such short notice\l"
	.string "from The Noise, I will prove myself\l"
	.string "to you just who I am exactly.\p"
	.string "Now, let's see who is the real\n"
	.string "faker here!{PLAY_BGM}{MUS_ZGS_ENCOUNTER_GYM_LEADER}$"

RustboroCity_Gym_Text_RoxanneDefeat:
	.string "Well I'll be…\n"
	.string "I lost…\p"
	.string "………\p"
	.string "Well, guess I'll have to make…\n"
	.string "a run for it then…\p"
	.string "Before that though, here's the\n"
	.string "badge and all the other prizes\l"
	.string "you get.\p"
	.string "…\n"
	.string "The Noise is gonna hate me.$"

RustboroCity_Gym_Text_ReceivedStoneBadge:
	.string "{PLAYER} received the Stone Badge\n"
	.string "from The Doise.$"

RustboroCity_Gym_Text_StoneBadgeInfoTakeThis:
	.string "A note is on the floor.\p"
	.string "This badge will let you use the\n"
	.string "move Cut outside of battle.\p"
	.string "A TM is attached on the note.$"

RustboroCity_Gym_Text_ExplainRockTomb:
	.string "This is TM39, the TM that teaches the\n"
	.string "move Rock Tomb.\p"
	.string "It's an Earth-type move that has a\n"
	.string "chance of lowering Speed.\p"
	.string "If anyone else reads this, please let\n"
	.string "this be known, I have run away from my\l"
	.string "duties as a Gym Leader, mainly so that\l"
	.string "he does not get me from what happened.$"

RustboroCity_Gym_Text_RoxannePostBattle:
	.string "It's just a note.$"

RustboroCity_Gym_Text_GymStatue:
	.string "Noiseboro City Puppet Gym\p"
	.string "Noise's Certified Trainers:\n"
	.string "Gigi$"

RustboroCity_Gym_Text_GymStatueCertified:
	.string "Noiseboro City Puppet Gym\p"
	.string "Noise's Certified Trainers:\n"
	.string "Gigi, {PLAYER}$"

RustboroCity_Gym_Text_RoxanneRegisterCall:
	.string "… … … … … …\n"
	.string "… … … … … Beep!\p"
	.string "But nobody came…\p"
	.string "… … … … … …\n"
	.string "… … … … … Click!$"

RustboroCity_Gym_Text_RegisteredRoxanne:
	.string "Registered GYM LEADER ROXANNE\n"
	.string "in the POKéNAV.$"

RustboroCity_Gym_Text_RoxannePreRematch:
	.string "ROXANNE: I'm so glad to see you again.\n"
	.string "I'm ROXANNE, the GYM LEADER here.\p"
	.string "I'm sure we've both experienced many\n"
	.string "battles since we last met.\p"
	.string "I would like to see how much better\n"
	.string "we've become. Let us battle!$"

RustboroCity_Gym_Text_RoxanneRematchDefeat:
	.string "Grr…\n"
	.string "Again, I have lost…$"

RustboroCity_Gym_Text_RoxannePostRematch:
	.string "ROXANNE: I still have much to learn\n"
	.string "when it comes to battling POKéMON.\p"
	.string "That awareness makes me love battling\n"
	.string "all that much more!$"

RustboroCity_Gym_Text_RoxanneRematchNeedTwoMons:
	.string "ROXANNE: I'm so glad to see you again.\n"
	.string "I'm ROXANNE, the GYM LEADER here.\p"
	.string "I'm sure we've both experienced many\n"
	.string "battles since we last met.\p"
	.string "I would like to see how much better\n"
	.string "we've become…\p"
	.string "Oh, no…\n"
	.string "You only have one POKéMON with you?\p"
	.string "Please return with at least one more\n"
	.string "POKéMON.$"
`
